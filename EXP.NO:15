import cv2
import numpy as np
import matplotlib.pyplot as plt
# Load and blur image to reduce noise
img = cv2.imread('XY.png', cv2.IMREAD_GRAYSCALE) # Corrected filename
# Check if image was loaded successfully
if img is None:
    print("Error: Image not loaded. Please check the file name and path.")
else:
    img_blur = cv2.GaussianBlur(img, (3,3), 0)
    # Calculate gradients
    sobel_x = cv2.Sobel(img_blur, cv2.CV_64F, 1, 0, ksize=3)
    sobel_y = cv2.Sobel(img_blur, cv2.CV_64F, 0, 1, ksize=3)
    # Combine for XY edge detection
    sobel_xy = cv2.magnitude(sobel_x, sobel_y)
    # Display the results
    plt.figure(figsize=(10, 5))
    plt.subplot(1, 2, 1)
    plt.imshow(img, cmap='gray')
    plt.title('Original Image')
    plt.axis('off')
    plt.subplot(1, 2, 2)
    plt.imshow(sobel_xy, cmap='gray')
    plt.title('Sobel XY Edge Detection')
    plt.axis('off')
    plt.show()
